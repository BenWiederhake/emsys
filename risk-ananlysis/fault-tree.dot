digraph somegraph {
rankdir=BT;

escortNoLed[label="escorting,\nbut no LED", style="bold"];


seeNoLed[label="clear line of sight,\nbut no LED", style="bold"];


victimLost[label="victim lost while escorting", style="bold"];


standingStill[label="standing still", style="bold"];
standingStillOr[label="OR", shape=box];
standingStillOr -> standingStill;
    noInitialLps[label="no initial position from LPS"];
    noInitialLps -> standingStillOr;
    noInitialLpsOr[label="OR", shape=box];
    noInitialLpsOr -> noInitialLps;
        lpsCommunication -> noInitialLpsOr;
        //
        lpsSystemFailure -> noInitialLpsOr;
    //
    softwareInit[label="software initialization failure"];
    softwareInit -> standingStillOr;
    softwareInitOr[label="OR", shape=box];
    softwareInitOr -> softwareInit;
        softwareInitSoftware[label="software fault (bug)"];
        softwareInitSoftware -> softwareInitOr;
        //
        badFirmware[label="bad setup\n(secondary failure)", shape=diamond];
        badFirmware -> softwareInitOr;
    //
    wheelFault[label="wheels unable to turn"];
    wheelFault -> standingStillOr;
    wheelFaultOr[label="OR", shape=box];
    wheelFaultOr -> wheelFault;
        primaryMotorFault[label="primary motor fault"];
        primaryMotorFault -> wheelFaultOr;
        //
        wheelsBlocked[label="wheels blocked\n(secondary failure)", shape=diamond];
        wheelsBlocked -> wheelFaultOr;
    //
    batteryDefect -> standingStillOr;
    //
    wiringDefect -> standingStillOr;


// Not stand-alone, but used multiple times
lpsCommunication[label="LPS link down"];
lpsCommunicationOr[label="OR", shape=box];
lpsCommunicationOr -> lpsCommunication;
    // FIXME


// Not stand-alone, but used multiple times
lpsSystemFailure[label="LPS sends no data"];
lpsSystemFailureOr[label="OR", shape=box];
lpsSystemFailureOr -> lpsSystemFailure;
    // FIXME


uncoorperative[label="uncoorperative behavior (T2T)", style="bold"];


ignoreVictim[label="not using information about victim", style="bold"];


spin[label="turning around forever", style="bold"];


jerk[label="spurious/unreasonable movements (LPS)", style="bold"];


bump[label="run into walls", style="bold"];


goWrong[label="moving to the \"gathered position\"\ninstead \"towards the victim\"", style="bold"];
goWrongOr[label="OR", shape=box];
goWrongOr -> goWrong;
    ignoreVictim -> goWrongOr;
    //
    jerk -> goWrongOr;
    //
    goWrongSoft[label="design error"];
    goWrongSoft -> goWrongOr;
    goWrongSoftAnd[label="AND", shape="box"];
    goWrongSoftAnd -> goWrongSoft;
        specIgnored[label="misunderstanding about MR14"];
        specIgnored -> goWrongSoftAnd;
        //
        noDoubleCheck[label="no double checking"];
        noDoubleCheck -> goWrongSoftAnd;
    //
    uncoorperative -> goWrongOr;


powerNoLed[label="no power LED", style="bold"];
  powerNoLedOr[label="OR", shape=box];
  powerNoLedOr -> powerNoLed;
    powerLedDefunct[label="primary power LED failure"];
    powerLedDefunct -> powerNoLedOr;
    
    userDidNotTurnOn[label="secondary failure, \nuser did not turn \non the E-Puck", shape=diamond];
    userDidNotTurnOn -> powerNoLedOr;
    
    batteryDefect[label="primary battery failure; \nbattery defect or \nbattery not connected"];
    batteryDefect -> powerNoLedOr;

    batteryNotCharged[label="primary battery failure; \nbattery not charged", shape=diamond];
    batteryNotCharged -> powerNoLedOr;

    wiringDefect[label="failure in \nwiring or fuse"];
    wiringDefect -> powerNoLedOr;


victimSilent[label="victim's LED is off", style="bold"];
  victimSilentOr[label="OR", shape=box];
  victimSilentOr -> victimSilent;
    wiringDefect -> victimSilentOr;
    batteryDefect -> victimSilentOr;
    batteryNotCharged -> victimSilentOr;

    userDidNotTurnOnVictim[label="secondary failure, \nuser did not turn \non the E-Puck", shape=diamond];
    userDidNotTurnOnVictim -> victimSilentOr;

    irLedDefect[label="primary IR LED failure"];
    irLedDefect -> victimSilentOr;


victim404[label="victim cannot be found", style="bold"];


noEscort[label="not moving the victim out;\nat least not on shortest path", style="bold"];
noEscort -> notEnoughMoney; // Dies ist ein Beispiel

}
